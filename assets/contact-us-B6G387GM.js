import"./main-D3QgYYB2.js";import"./vendor-CGj-QosL.js";document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector(".order-form"),d=document.querySelectorAll(".budget-option"),o=document.getElementById("empty-error"),u=document.getElementById("file-upload"),p=document.getElementById("file-list"),a=new Set,v=e=>{if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e))return!1;const r=e.split("@")[1].split(".");return r.length<2?!1:r[r.length-1].length>=2},E=e=>{const t=document.querySelector(`#${e.id}-error`);if(e.type==="email"){if(!v(e.value))return t.textContent="Invalid E-mail",!1}else if(e.checkValidity())t.textContent="";else{const n=e.getAttribute("data-error-message")||"Invalid field.";return t.textContent=n,!1}return!0},m=document.getElementById("user-comment"),f=document.getElementById("char-counter"),h=parseInt(m.getAttribute("minlength"),10),L=()=>{const t=m.value.length;f.textContent=`${t}/${h}`,t>h?f.classList.add("error"):f.classList.remove("error")};m.addEventListener("input",L);const g=()=>{const e=u.files,t=["doc","docx","pdf","ppt","pptx","xlsx","zip","rar"],n=30*1024*1024,r=3;if(!o)return!1;for(let s of e){const b=s.name.split(".").pop().toLowerCase();if(a.has(s.name)){o.textContent=`File ${s.name} is already added.`;continue}if(!t.includes(b))return o.textContent=`Unsupported file format: ${s.name}`,!1;if(s.size>n)return o.textContent=`File ${s.name} exceeds the 30MB size limit.`,!1;if(a.size>=r)return o.textContent=`You can attach up to ${r} files.`,!1;const l=document.createElement("li");l.classList.add("file__item");const x=document.createElement("span");x.textContent=s.name;const c=document.createElement("button");c.innerHTML='<span class="icon icon-close"></span>',c.classList.add("btn-del"),c.addEventListener("click",()=>{l.remove(),a.delete(s.name),u.value="",o.textContent=""}),l.appendChild(x),l.appendChild(c),p.appendChild(l),a.add(s.name)}return o.textContent="",!0},C=()=>{let e=!0;return i.querySelectorAll(".validate").forEach(n=>{n.id&&!E(n)?(e=!1,n.classList.add("field-error")):n.classList.remove("field-error")}),g()||(e=!1),e},y=e=>{d.forEach(t=>t.classList.remove("selected")),e.target.classList.add("selected")};i.addEventListener("submit",async e=>{if(e.preventDefault(),C()){o.textContent="";const t=new FormData(i),n=document.querySelector(".budget-option.selected");n&&t.append("user-budget",n.dataset.value);try{if((await fetch("send-email.php",{method:"POST",body:t})).ok)alert("Your request has been successfully sent!"),i.reset(),p.innerHTML="",d.forEach(s=>s.classList.remove("selected")),a.clear();else throw new Error("Failed to send the request.")}catch(r){console.error("Error submitting form:",r),alert("There was an error submitting the form.")}}else o.textContent="Please fix the errors above before submitting."}),d.forEach(e=>{e.addEventListener("click",y)}),u.addEventListener("change",g)});
//# sourceMappingURL=contact-us-B6G387GM.js.map
